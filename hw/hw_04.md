

Создать таблицу accounts(id integer, amount numeric);
Добавить несколько записей и подключившись через 2 терминала добиться ситуации взаимоблокировки (deadlock).
Посмотреть логи и убедиться, что информация о дедлоке туда попала.

```sql
create table accounts(id integer, amount numeric);
insert into accounts values
(1, 1.0),
(2, 2.0),
(3, 3.0),
(4, 4.0),
(5, 5.0);

begin;
update accounts set amount = 10.0 where id = 1;
update accounts set amount = 20.0 where id = 2;

begin;
update accounts set amount = 30.0 where id = 2;
update accounts set amount = 40.0 where id = 1;

```